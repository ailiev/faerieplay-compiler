Analysis of what is static and what not:

Could check all expressions which should be static (eg. consts, int size, array
length) during first typecheck phase. but this is nasty to mix with actual
typechecking.

Perhaps have a second pass right away, which actually computes all available
static expressions? 

All consts should be available before unrolling? yes!

how to deal with structs?? name + offset? a set of separate names?



Sun Jun  5 17:37:53 2005

Current implementation of HoistStms will not handle a function call in an
l-value. this seems fairly sensible to prohibit.


Mon Jun 13 20:16:32 2005

notes on Graph:

type Adj b = [(b, Node)]
Labeled links to or from a Node.

type Context a b = (Adj b, Node, a, Adj b)
Links to the Node, the Node itself, a label, links from the Node.

> a is the type of vertex labels, and b is the type of edge labels



Thu Jun 16 23:52:00 2005

recursive types are causing a hassle with the circuit generator var table being
keyed on Var. We can only keep the gate locations of Var. but what about:
struct Point = { int x, int y }
struct Shoes = { int number, bool torn, Color col }
struct Globals = { Point center, Shoes shoes, int age }
// ...
var Globals g;
var Point p1;
// ...
g.center = p1;
g.center.x = 0;


POINT: var tables should be keyed on +/- what appears as an lval:
EVar
EStruct
EArr
or (stripped down) Exp in general?


g = ...
// ...

if () {
   var Globals g;
   // ...
   g.center.x = 0;
}


Sun Jun 19 13:26:41 2005

Graph library bug:
error message in Tree.hs line 72 is really uninformative



Thu Jun 23 13:34:10 2005

DISCOVERY: array writes have to update the array variable/pointer too. not the
case with "normal" array reads, but the oblivious read alg. updates the array
values (in particular the working area in sqrt alg.), so any subsequent reads
and writes should use the new one.


Thu Oct 20 15:27:29 2005

Where/how do we carry the line numbers??
- all tokens
- keywords?


Mon Dec 12 11:32:31 2005

installing Hat tracer:
- needed to tell hmake about the ghc compiler:
  $ hmake-config new
  $ hmake-config add ghc
  (it figured out where ghc 6.4 is)


installed Buddha debugger in ~/minime/buddha. no further progress on it yet.



<date>Fri Mar 31 16:20:12 2006</date>

Adding print gates: they have nothing coming out of them, so need to take care
that when the circuit is trimmed, they are not thrown out, as the output gates
are not reachable from them. Ie. print gates are an "anchor" of sorts too, and
all gates with a path to a print gate (as well as to an output gate) should be
kept.


<date>Thu May 11 11:51:22 2006</date>


How should a Select gate treat a Nothing condition? Seems correct to treat it
same as False, rather than just produce a Nothing. A Nothing condition should
only be produced on a non-taken branch, in which case that branch's values
should be discarded *and* the peer branch's values (perhaps unchanged) taken.


<date>Thu Jun  8 19:48:54 2006</date>

Graph.ufold does the fold in an arbitrary-looking order, certainly not
depth-first.


<date>Mon Sep 18 10:51:37 2006</date>

Compilation run on eisenhower (4 * Dual Core AMD Opteron(tm) Processor 265 at
1.8 GHz, 4GB RAM):

with LOGN=7:
- 102 mins.
- used only one of the CPUs, at 100%.
- 1.1GB RAM most of the time, up to 1.2GB in last 2 mins.
